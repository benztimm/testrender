<div id="messages" class="chat-area"></div>
<form class="chat-form" id="chatForm" action=""><input id="input" autocomplete="off" placeholder="Chat"/></form>

<script src="/socket.io/socket.io.js"></script>
<script>
	const socket = io()

	const form = document.getElementById('chatForm')
	const input = document.getElementById('input')
	const messages = document.getElementById('messages')

	form.addEventListener('submit', (e) => {
		e.preventDefault()
		if (input.value) {
			socket.emit('chat message', input.value)
			input.value = ''
			input.focus()
		}
	})

	socket.on('chat message', (msg) => {
		const item = document.createElement('p')
		item.textContent = msg
		messages.appendChild(item)
	})
</script>
