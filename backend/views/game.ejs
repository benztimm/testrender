<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link rel="stylesheet" href="/css/menu.css" />
		<link rel="stylesheet" href="/css/game.css" />
		<link
			rel="stylesheet"
			href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
			integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A=="
			crossorigin="anonymous"
			referrerpolicy="no-referrer" />
		<title>Wait Room</title>
	</head>
	<body>
		<%- include('partials/menu') %>

		<h1>Bingo Game</h1>
		<div id="boss"></div>
		<div id="timer"></div>
		<div id="called-numbers"></div>
		<div id="players">
			<section>
				<% for (let player of gameInfo.players) { %> <% if (session.user.userId === player.user_id) { %>
				<button class="startButton" id="bingoButton" onclick="BINGO('<%= player.user_id %>')">Bingo</button>
				<div class="bingo-card" id="player<%= player.user_id %>">
					<h2>Player <%= player.username %></h2>
					<% for (let col = 0; col < player.card_data.length; col++) { %>
					<div class="bingo-row">
						<% for (let row = 0; row < player.card_data.length; row++) { %>
						<div class="bingo-cell" id="<%= player.user_id + '-' + row + '-' + col + '-' + player.card_data[row][col] %>" onclick="markNumber(this)">
							<%= player.card_data[row][col] === 0 ? "Free" : player.card_data[row][col] %>
						</div>
						<% } %>
					</div>
					<% } %>
				</div>
				<% } else { %>
				<div class="bingo-card" id="player<%= player.user_id %>">
					<h2>Player <%= player.username %></h2>
					<% for (let col = 0; col < player.card_data.length; col++) { %>
					<div class="bingo-row">
						<% for (let row = 0; row < player.card_data.length; row++) { %>
						<div class="bingo-cell" id="<%= player.user_id + '-' + row + '-' + col + '-' + player.card_data[row][col] %>"></div>
						<% } %>
					</div>
					<% } %>
				</div>
				<% } %> <% } %>
			</section>
		</div>

		<%- include('partials/chat', { session: session, roomId: gameInfo.room_id }) %>
		<script>
			const userId = '<%= session.user.userId%>'
			const hostId = '<%= gameInfo.host_id %>'
		</script>

		<script src="/script/game.js"></script>
	</body>
</html>

<!-- <div class="bingo-card" id="player1">
    <h2>Player 1</h2>
    <div class="bingo-row">
      <div class="bingo-cell" id="player1-cell1"></div>
      <div class="bingo-cell" id="player1-cell6"></div>
      <div class="bingo-cell" id="player1-cell11"></div>
      <div class="bingo-cell" id="player1-cell16"></div>
      <div class="bingo-cell" id="player1-cell21"></div>
    </div>
    <div class="bingo-row">
      <div class="bingo-cell" id="player1-cell2"></div>
      <div class="bingo-cell" id="player1-cell7"></div>
      <div class="bingo-cell" id="player1-cell12"></div>
      <div class="bingo-cell" id="player1-cell17"></div>
      <div class="bingo-cell" id="player1-cell22"></div>
    </div>
    <div class="bingo-row">
      <div class="bingo-cell" id="player1-cell3"></div>
      <div class="bingo-cell" id="player1-cell8"></div>
      <div class="bingo-cell" id="player1-cell13"></div>
      <div class="bingo-cell" id="player1-cell18"></div>
      <div class="bingo-cell" id="player1-cell23"></div>
    </div>
    <div class="bingo-row">
      <div class="bingo-cell" id="player1-cell4"></div>
      <div class="bingo-cell" id="player1-cell9"></div>
      <div class="bingo-cell" id="player1-cell14"></div>
      <div class="bingo-cell" id="player1-cell19"></div>
      <div class="bingo-cell" id="player1-cell24"></div>
    </div>
    <div class="bingo-row">
      <div class="bingo-cell" id="player1-cell5"></div>
      <div class="bingo-cell" id="player1-cell10"></div>
      <div class="bingo-cell" id="player1-cell15"></div>
      <div class="bingo-cell" id="player1-cell20"></div>
      <div class="bingo-cell" id="player1-cell25"></div>
    </div>
  </div> -->
